<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ªãƒ¼ãƒ€ãƒ¼ AIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ | OUC</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Noto Sans JP", "Hiragino Sans", sans-serif;
            background: linear-gradient(180deg, #f8f9fa 0%, #e9ecef 100%);
            color: #1a1a1a;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header {
            background: #fff;
            padding: 20px 0;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            margin-bottom: 40px;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo-box {
            background: #ec6b2e;
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: 700;
            color: #fff;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-text .main {
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
        }

        .logo-text .sub {
            font-size: 11px;
            color: #666;
            letter-spacing: 0.5px;
        }

        .header-title {
            margin-left: auto;
            font-size: 20px;
            font-weight: 600;
            color: #1a1a1a;
        }

        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */
        .progress-indicator {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding: 0 20px;
        }

        .progress-step {
            display: flex;
            align-items: center;
            flex: 1;
        }

        .step-circle {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 16px;
            color: #888;
            position: relative;
            z-index: 2;
        }

        .step-circle.active {
            background: linear-gradient(135deg, #ec6b2e, #ff8c42);
            color: #fff;
            box-shadow: 0 4px 12px rgba(236, 107, 46, 0.3);
        }

        .step-circle.completed {
            background: #ec6b2e;
            color: #fff;
        }

        .step-circle.completed::after {
            content: "âœ“";
        }

        .step-label {
            margin-left: 12px;
            font-size: 14px;
            font-weight: 600;
            color: #888;
        }

        .step-label.active {
            color: #ec6b2e;
        }

        .step-line {
            flex: 1;
            height: 3px;
            background: #e0e0e0;
            margin: 0 10px;
        }

        .step-line.completed {
            background: #ec6b2e;
        }

        .progress-step:last-child .step-line {
            display: none;
        }

        /* ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
        }

        .page-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .page-subtitle {
            font-size: 14px;
            color: #666;
        }

        /* ã‚«ãƒ¼ãƒ‰å…±é€š */
        .card {
            background: #fff;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }

        /* Step 1: ãƒ¢ãƒ‡ãƒ«é¸æŠ */
        .model-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .model-card {
            background: #fff;
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }

        .model-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
        }

        .model-card.selected {
            border-color: #ec6b2e;
            box-shadow: 0 4px 16px rgba(236, 107, 46, 0.3);
        }

        .model-image {
            width: 100%;
            height: 350px;
            object-fit: contain;
            background: #f5f5f5;
        }

        .model-info {
            padding: 16px;
            position: relative;
        }

        .model-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .model-category {
            font-size: 12px;
            color: #666;
        }

        .model-check {
            position: absolute;
            top: -210px;
            right: 16px;
            width: 36px;
            height: 36px;
            background: #ec6b2e;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 18px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .model-card.selected .model-check {
            display: flex;
        }

        /* Step 2: ã‚«ãƒ©ãƒ¼å¤‰æ›´ */
        .color-editor {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
        }

        .preview-area {
            background: #fff;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }

        .view-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .toggle-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            background: #fff;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toggle-btn.active {
            background: #ec6b2e;
            border-color: #ec6b2e;
            color: #fff;
        }

        .preview-image-container {
            position: relative;
            text-align: center;
            max-width: 400px;
            margin: 0 auto;
        }

        .preview-image {
            max-width: 100%;
            height: auto;
            border-radius: 12px;
        }

        .preview-hint {
            margin-top: 16px;
            padding: 12px;
            background: #fff9f5;
            border-left: 4px solid #ec6b2e;
            font-size: 13px;
            color: #666;
            border-radius: 8px;
        }

        .control-panel {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .control-section {
            background: #fff;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }

        .section-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #1a1a1a;
        }

        .parts-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .part-btn {
            padding: 12px;
            border: 2px solid #e0e0e0;
            background: #fff;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .part-btn:hover {
            border-color: #ec6b2e;
        }

        .part-btn.active {
            background: #ec6b2e;
            border-color: #ec6b2e;
            color: #fff;
        }

        .part-icon {
            font-size: 20px;
        }

        .colors-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }

        .colors-grid.disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        .color-chip {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 10px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
            position: relative;
        }

        .color-chip:hover {
            transform: scale(1.1);
        }

        .color-chip.selected {
            border-color: #ec6b2e;
            transform: scale(1.15);
            box-shadow: 0 4px 12px rgba(236, 107, 46, 0.3);
        }

        .color-name {
            text-align: center;
            font-size: 11px;
            margin-top: 4px;
            color: #666;
        }

        .custom-color-picker {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 10px;
            cursor: pointer;
            border: 3px dashed #e0e0e0;
            transition: all 0.3s;
            position: relative;
            background: linear-gradient(135deg, #f5f5f5 0%, #e9ecef 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #666;
        }

        .custom-color-picker:hover {
            border-color: #ec6b2e;
            transform: scale(1.1);
        }

        .custom-color-picker.selected {
            border-color: #ec6b2e;
            border-style: solid;
            transform: scale(1.15);
            box-shadow: 0 4px 12px rgba(236, 107, 46, 0.3);
        }

        .custom-color-input {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .part-colors-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .part-color-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .part-color-item:hover {
            background: #fff9f5;
        }

        .part-color-name {
            font-size: 13px;
            font-weight: 600;
        }

        .part-color-value {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: #666;
        }

        .part-color-chip {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
        }

        .free-word-input {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-family: inherit;
            font-size: 13px;
            resize: vertical;
        }

        .free-word-input:focus {
            outline: none;
            border-color: #ec6b2e;
        }

        /* ãƒœã‚¿ãƒ³ */
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ec6b2e, #ff8c42);
            color: #fff;
            box-shadow: 0 4px 12px rgba(236, 107, 46, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(236, 107, 46, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #fff;
            color: #666;
            border: 2px solid #e0e0e0;
        }

        .btn-secondary:hover {
            border-color: #ec6b2e;
            color: #ec6b2e;
        }

        .btn-outline {
            background: #fff;
            color: #1e3a5f;
            border: 2px solid #1e3a5f;
        }

        .btn-outline:hover {
            background: #1e3a5f;
            color: #fff;
        }

        .button-group {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 30px;
        }

        /* Step 3: ç”»åƒå‡ºåŠ› */
        .result-images {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
        }

        .result-image-box {
            text-align: center;
            max-width: 300px;
            position: relative;
        }

        .ai-generated-overlay {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(236, 107, 46, 0.95);
            color: #fff;
            padding: 10px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 10;
            white-space: nowrap;
        }

        .result-label {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #666;
        }

        .result-image {
            width: 100%;
            height: auto;
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.12);
        }


        .action-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 50px;
        }

        .customize-section {
            background: #fff;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-header h2 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .section-header p {
            font-size: 14px;
            color: #666;
        }

        .logo-feature-banner {
            background: linear-gradient(135deg, #ec6b2e, #ff8c42);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 30px;
            box-shadow: 0 4px 16px rgba(236, 107, 46, 0.3);
        }

        .logo-feature-icon {
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            flex-shrink: 0;
        }

        .logo-feature-content {
            flex: 1;
            color: #fff;
        }

        .logo-feature-content h3 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .logo-feature-content p {
            font-size: 16px;
            line-height: 1.8;
            opacity: 0.95;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
            margin-bottom: 30px;
        }

        .feature-card {
            display: flex;
            gap: 16px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #ec6b2e, #ff8c42);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .feature-content h3 {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .feature-content p {
            font-size: 13px;
            color: #666;
            line-height: 1.6;
        }

        .schedule-banner {
            background: #1a1a1a;
            color: #fff;
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        .schedule-banner h3 {
            color: #ec6b2e;
            font-size: 16px;
            margin-bottom: 12px;
        }

        .schedule-banner ul {
            list-style: none;
            margin-bottom: 12px;
        }

        .schedule-banner li {
            font-size: 13px;
            margin-bottom: 6px;
        }

        .schedule-banner .note {
            font-size: 11px;
            color: #888;
            margin-top: 12px;
        }

        .cta-section {
            text-align: center;
        }

        .cta-section .btn {
            padding: 20px 48px;
            font-size: 18px;
        }

        .cta-subtitle {
            font-size: 13px;
            color: #666;
            margin-top: 12px;
        }

        /* Step 4: ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ  */
        .form-container {
            max-width: 700px;
            margin: 0 auto;
        }

        .attached-images {
            background: #fff9f5;
            border: 2px solid #ec6b2e;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .attached-images-label {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .attached-thumbs {
            display: flex;
            gap: 12px;
        }

        .attached-thumb {
            width: 100px;
            height: 133px;
            border-radius: 8px;
            object-fit: cover;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .form-label .required {
            color: #dc2626;
            margin-left: 4px;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-family: inherit;
            font-size: 14px;
        }

        .form-input:focus {
            outline: none;
            border-color: #ec6b2e;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .back-link {
            display: inline-block;
            margin-top: 20px;
            color: #666;
            text-decoration: none;
            font-size: 14px;
        }

        .back-link:hover {
            color: #ec6b2e;
        }

        /* Step 0: ä½¿ç”¨å‰ãƒ•ã‚©ãƒ¼ãƒ  */
        .terms-box {
            background: #fff;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 30px;
            max-height: 300px;
            overflow-y: auto;
        }

        .terms-box h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #ec6b2e;
        }

        .terms-box ul {
            list-style: none;
            padding-left: 0;
        }

        .terms-box li {
            font-size: 14px;
            line-height: 1.8;
            margin-bottom: 12px;
            padding-left: 20px;
            position: relative;
        }

        .terms-box li:before {
            content: "â—";
            position: absolute;
            left: 0;
            color: #ec6b2e;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 20px;
        }

        .checkbox-input {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #ec6b2e;
        }

        .checkbox-label {
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            flex: 1;
        }

        .privacy-link {
            color: #ec6b2e;
            text-decoration: underline;
            cursor: pointer;
        }

        .privacy-link:hover {
            color: #ff8c42;
        }

        /* Loading */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #ec6b2e;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 1199px) {
            .color-editor {
                grid-template-columns: 1fr 350px;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-wrap: wrap;
            }

            .header-title {
                margin-left: 0;
                width: 100%;
                margin-top: 12px;
                font-size: 16px;
            }

            .progress-indicator {
                overflow-x: auto;
                padding-bottom: 10px;
            }

            .step-label {
                display: none;
            }

            .model-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .color-editor {
                grid-template-columns: 1fr;
            }

            .control-panel {
                order: -1;
            }

            .result-images {
                flex-direction: column;
            }

            .result-image-box {
                max-width: 100%;
            }

            .action-buttons {
                grid-template-columns: 1fr;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }

            .logo-feature-banner {
                flex-direction: column;
                padding: 30px 20px;
                text-align: center;
            }

            .logo-feature-content h3 {
                font-size: 20px;
            }

            .logo-feature-content p {
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            .model-grid {
                grid-template-columns: 1fr;
            }

            .parts-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .colors-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header>
        <div class="header-content">
            <div class="logo-box">O</div>
            <div class="logo-text">
                <div class="main">OUC</div>
                <div class="sub">ORDER UNIFORM COMPANY</div>
            </div>
            <div class="header-title">ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ªãƒ¼ãƒ€ãƒ¼ AIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</div>
        </div>
    </header>

    <div class="container">
        <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ -->
        <div class="progress-indicator">
            <div class="progress-step">
                <div class="step-circle" data-step="0"></div>
                <span class="step-label">æƒ…å ±å…¥åŠ›</span>
                <div class="step-line"></div>
            </div>
            <div class="progress-step">
                <div class="step-circle" data-step="1"></div>
                <span class="step-label">ãƒ¢ãƒ‡ãƒ«é¸æŠ</span>
                <div class="step-line"></div>
            </div>
            <div class="progress-step">
                <div class="step-circle" data-step="2"></div>
                <span class="step-label">ã‚«ãƒ©ãƒ¼å¤‰æ›´</span>
                <div class="step-line"></div>
            </div>
            <div class="progress-step">
                <div class="step-circle" data-step="3"></div>
                <span class="step-label">ç”»åƒå‡ºåŠ›</span>
                <div class="step-line"></div>
            </div>
            <div class="progress-step">
                <div class="step-circle" data-step="4"></div>
                <span class="step-label">ãŠå•ã„åˆã‚ã›</span>
            </div>
        </div>

        <!-- Step 0: æƒ…å ±å…¥åŠ› -->
        <div class="page-content active" id="step0">
            <div class="page-header">
                <h1 class="page-title">AIã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ã”åˆ©ç”¨ã®å‰ã«</h1>
                <p class="page-subtitle">ä»¥ä¸‹ã®æƒ…å ±ã‚’ã”å…¥åŠ›ãã ã•ã„</p>
            </div>

            <div class="form-container">
                <!-- ä½¿ç”¨ä¸Šã®æ³¨æ„äº‹é … -->
                <div class="terms-box">
                    <h3>ä½¿ç”¨ä¸Šã®æ³¨æ„äº‹é …</h3>
                    <ul>
                        <li>æœ¬ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã§ç”Ÿæˆã•ã‚Œã‚‹ç”»åƒã¯ã€å®Ÿéš›ã®è£½å“ã®è‰²å‘³ã¨ç•°ãªã‚‹å ´åˆãŒã”ã–ã„ã¾ã™ã€‚</li>
                        <li>ç”Ÿæˆã•ã‚ŒãŸç”»åƒã¯ã‚¤ãƒ¡ãƒ¼ã‚¸å‚è€ƒç”¨ã§ã‚ã‚Šã€å®Ÿéš›ã®è£½å“ã‚’ä¿è¨¼ã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li>
                        <li>ã”å…¥åŠ›ã„ãŸã ã„ãŸæƒ…å ±ã¯ã€ãŠå•ã„åˆã‚ã›å¯¾å¿œåŠã³ã‚µãƒ¼ãƒ“ã‚¹å‘ä¸Šã®ãŸã‚ã«ä½¿ç”¨ã„ãŸã—ã¾ã™ã€‚</li>
                        <li>ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœã¯ã€ã‚ãã¾ã§ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ãƒˆã®å‚è€ƒã¨ã—ã¦ã”æ´»ç”¨ãã ã•ã„ã€‚</li>
                        <li>å®Ÿéš›ã®è£½å“ã®è©³ç´°ã«ã¤ãã¾ã—ã¦ã¯ã€ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã‚ˆã‚Šã”ç›¸è«‡ãã ã•ã„ã€‚</li>
                    </ul>
                </div>

                <!-- ç°¡æ˜“ãƒ•ã‚©ãƒ¼ãƒ  -->
                <form id="preRegistrationForm">
                    <div class="form-group">
                        <label class="form-label">ä¼šç¤¾å<span class="required">*</span></label>
                        <input type="text" class="form-input" name="company" id="preCompany" placeholder="æ ªå¼ä¼šç¤¾ã€‡ã€‡" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ãŠåå‰<span class="required">*</span></label>
                        <input type="text" class="form-input" name="name" id="preName" placeholder="å±±ç”° å¤ªéƒ" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">é›»è©±ç•ªå·<span class="required">*</span></label>
                        <input type="tel" class="form-input" name="phone" id="prePhone" placeholder="03-0000-0000" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹<span class="required">*</span></label>
                        <input type="email" class="form-input" name="email" id="preEmail" placeholder="example@company.co.jp" required>
                    </div>

                    <!-- å€‹äººæƒ…å ±ä¿è­·æ–¹é‡ã¸ã®åŒæ„ -->
                    <div class="checkbox-group">
                        <input type="checkbox" class="checkbox-input" id="privacyAgree" required>
                        <label class="checkbox-label" for="privacyAgree">
                            <a href="https://www.ouc.co.jp/privacy/" target="_blank" class="privacy-link">å€‹äººæƒ…å ±ä¿è­·æ–¹é‡</a>ã«åŒæ„ã—ã¾ã™
                        </label>
                    </div>

                    <div class="button-group">
                        <button type="submit" class="btn btn-primary">ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’é–‹å§‹</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Step 1: ãƒ¢ãƒ‡ãƒ«é¸æŠ -->
        <div class="page-content" id="step1">
            <div class="page-header">
                <h1 class="page-title">ãƒ¢ãƒ‡ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„</h1>
                <p class="page-subtitle">ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ªãƒ¼ãƒ€ãƒ¼ãƒ¢ãƒ‡ãƒ«ã‚’é¸æŠã—ã¾ã™</p>
            </div>

            <div class="model-grid" id="modelGrid">
                <!-- ãƒ¢ãƒ‡ãƒ«ã‚«ãƒ¼ãƒ‰ã¯JavaScriptã§ç”Ÿæˆ -->
            </div>

            <div class="button-group">
                <button class="btn btn-primary" id="step1Next" disabled>æ¬¡ã¸é€²ã‚€</button>
            </div>
        </div>

        <!-- Step 2: ã‚«ãƒ©ãƒ¼å¤‰æ›´ -->
        <div class="page-content" id="step2">
            <div class="page-header">
                <h1 class="page-title">ã‚«ãƒ©ãƒ¼ã‚’å¤‰æ›´ã—ã¦ãã ã•ã„</h1>
                <p class="page-subtitle">ãƒ‘ãƒ¼ãƒ„ã”ã¨ã«è‰²ã‚’æŒ‡å®šã—ã¾ã™</p>
            </div>

            <div class="color-editor">
                <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢ -->
                <div class="preview-area">
                    <div class="view-toggle">
                        <button class="toggle-btn active" data-view="front">æ­£é¢</button>
                        <button class="toggle-btn" data-view="back">èƒŒé¢</button>
                    </div>
                    <div class="preview-image-container">
                        <img class="preview-image" id="previewImage" src="" alt="ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼">
                    </div>
                </div>

                <!-- æ“ä½œãƒ‘ãƒãƒ« -->
                <div class="control-panel">
                    <!-- ãƒ‘ãƒ¼ãƒ„é¸æŠ -->
                    <div class="control-section">
                        <h3 class="section-title">1. ãƒ‘ãƒ¼ãƒ„é¸æŠ</h3>
                        <div class="parts-grid" id="partsGrid">
                            <!-- ãƒ‘ãƒ¼ãƒ„ãƒœã‚¿ãƒ³ã¯JavaScriptã§ç”Ÿæˆ -->
                        </div>
                    </div>

                    <!-- è¨­å®šä¸­ã®ã‚«ãƒ©ãƒ¼ä¸€è¦§ -->
                    <div class="control-section">
                        <h3 class="section-title">2. è¨­å®šä¸­ã®ã‚«ãƒ©ãƒ¼ä¸€è¦§</h3>
                        <div class="part-colors-list" id="partColorsList">
                            <!-- ã‚«ãƒ©ãƒ¼è¨­å®šãƒªã‚¹ãƒˆã¯JavaScriptã§ç”Ÿæˆ -->
                        </div>
                    </div>

                    <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
                    <div class="button-group">
                        <button class="btn btn-secondary" id="resetBtn">ãƒªã‚»ãƒƒãƒˆ</button>
                        <button class="btn btn-primary" id="generateBtn">âœ¨ AIã§ç”»åƒã‚’ç”Ÿæˆ</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 3: ç”»åƒå‡ºåŠ› -->
        <div class="page-content" id="step3">
            <div class="page-header">
                <h1 class="page-title">ç”Ÿæˆå®Œäº†ï¼</h1>
                <p class="page-subtitle">AIãŒãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ç”Ÿæˆã—ã¾ã—ãŸã€‚ä¿®æ­£ãŒå¿…è¦ãªå ´åˆã¯å†åº¦ç·¨é›†ã§ãã¾ã™ã€‚</p>
            </div>

            <div class="result-images">
                <div class="result-image-box">
                    <div class="result-label">æ­£é¢</div>
                    <div class="ai-generated-overlay">â€»AIã§ã‚«ãƒ©ãƒ¼ã‚’å¤‰æ›´ã—ãŸå†™çœŸ</div>
                    <img class="result-image" id="resultFront" src="" alt="ç”Ÿæˆç”»åƒï¼ˆæ­£é¢ï¼‰">
                </div>
                <div class="result-image-box">
                    <div class="result-label">èƒŒé¢</div>
                    <div class="ai-generated-overlay">â€»AIã§ã‚«ãƒ©ãƒ¼ã‚’å¤‰æ›´ã—ãŸå†™çœŸ</div>
                    <img class="result-image" id="resultBack" src="" alt="ç”Ÿæˆç”»åƒï¼ˆèƒŒé¢ï¼‰">
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-secondary" id="editAgainBtn">ğŸ”„ å†åº¦ç·¨é›†ã™ã‚‹</button>
                <button class="btn btn-outline" id="downloadBtn">ğŸ’¾ ç”»åƒã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                <button class="btn btn-primary" id="contactBtn">ğŸ“© ãŠå•ã„åˆã‚ã› / è¦‹ç©ã‚‚ã‚Šç›¸è«‡ã«é€²ã‚€</button>
            </div>

            <!-- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºè¨´æ±‚ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <div class="customize-section">
                <div class="section-header">
                    <h2>ã•ã‚‰ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ã€å¾¡ç¤¾ã ã‘ã®ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ã«</h2>
                    <p>OUCã§ã¯è‰²ã ã‘ã§ãªãã€ç´°éƒ¨ã¾ã§ã“ã ã‚ã£ãŸã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ã‚’åˆ¶ä½œã§ãã¾ã™</p>
                    <p style="font-size: 18px; font-weight: 700; color: #ec6b2e; margin-top: 12px;">ç›®å®‰é‡‘é¡ï¼š15,000å††/ç€ã€œ</p>
                </div>

                <!-- ç¤¾åãƒ»ãƒ­ã‚´åˆºç¹ãƒãƒŠãƒ¼ -->
                <div class="logo-feature-banner">
                    <div class="logo-feature-icon">âœ¨</div>
                    <div class="logo-feature-content">
                        <h3>ç¤¾åãƒ»ãƒ­ã‚´ã®åˆºç¹/ãƒ—ãƒªãƒ³ãƒˆ</h3>
                        <p>ç¤¾åã‚„ãƒ­ã‚´ã‚’åˆºç¹ã‚„ãƒ—ãƒªãƒ³ãƒˆã§å…¥ã‚Œã€ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ã«å‘½ã‚’å¹ãè¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚å¾¡ç¤¾ã®ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’åæ˜ ã—ãŸã€å”¯ä¸€ç„¡äºŒã®ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ã‚’åˆ¶ä½œã„ãŸã—ã¾ã™ã€‚</p>
                    </div>
                </div>

                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¨</div>
                        <div class="feature-content">
                            <h3>ãƒ•ã‚¡ã‚¹ãƒŠãƒ¼ãƒ»ãƒœã‚¿ãƒ³ã‚‚é¸ã¹ã‚‹</h3>
                            <p>ãƒ•ã‚¡ã‚¹ãƒŠãƒ¼ã€ãƒœã‚¿ãƒ³ã¯<strong>100è‰²ä»¥ä¸Š</strong>ã‹ã‚‰é¸æŠå¯èƒ½ã€‚ç´°éƒ¨ã¾ã§ã“ã ã‚ã‚Œã¾ã™ã€‚</p>
                        </div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ§µ</div>
                        <div class="feature-content">
                            <h3>å­£ç¯€ã«åˆã‚ã›ãŸç”Ÿåœ°é¸ã³</h3>
                            <p>ç”Ÿåœ°ã¯<strong>æ˜¥å¤ç”¨ãƒ»ç§‹å†¬ç”¨ãƒ»é€šå¹´ç”¨</strong>ã‹ã‚‰é¸æŠå¯èƒ½ã€‚å¿«é©ãªç€å¿ƒåœ°ã‚’å®Ÿç¾ã—ã¾ã™ã€‚</p>
                        </div>
                    </div>
                </div>

                <div class="schedule-banner">
                    <h3>ç”Ÿç”£ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h3>
                    <ul>
                        <li>â— ç´æœŸï¼ç´„4ãƒ¶æœˆã€œ6ãƒ¶æœˆ</li>
                        <li>â— æœ€å°ãƒ­ãƒƒãƒˆæ•° å„ã‚¢ã‚¤ãƒ†ãƒ ï¼100ç€ã€œï¼ˆè¿½åŠ ç”Ÿç”£ 50ç€ã€œï¼‰</li>
                    </ul>
                    <p class="note">â€»300ç€ä»¥ä¸Šã¯ç´æœŸè¦ç›¸è«‡ã€€â€»ãƒ‡ã‚¶ã‚¤ãƒ³ã®é¸å®šæœŸé–“ã‚„æ™‚æœŸã«ã‚ˆã‚Šã€å¤‰å‹•ã™ã‚‹å¯èƒ½æ€§ãŒã”ã–ã„ã¾ã™ã€‚</p>
                </div>

                <div class="cta-section">
                    <button class="btn btn-primary" id="contactBtn2">ğŸ“© ãŠå•ã„åˆã‚ã› / è¦‹ç©ã‚‚ã‚Šç›¸è«‡ã«é€²ã‚€ â†’</button>
                    <p class="cta-subtitle">ã¾ãšã¯ãŠæ°—è»½ã«ã”ç›¸è«‡ãã ã•ã„</p>
                </div>
            </div>
        </div>

        <!-- Step 4: ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ  -->
        <div class="page-content" id="step4">
            <div class="page-header">
                <h1 class="page-title">ãŠå•ã„åˆã‚ã›</h1>
                <p class="page-subtitle">ç”Ÿæˆã—ãŸç”»åƒã¨ä¸€ç·’ã«ãŠå•ã„åˆã‚ã›ã‚’é€ä¿¡ã—ã¾ã™</p>
            </div>

            <div class="form-container">
                <div class="attached-images">
                    <div class="attached-images-label">ğŸ“ æ·»ä»˜ç”»åƒ</div>
                    <div class="attached-thumbs">
                        <img class="attached-thumb" id="attachedFront" src="" alt="æ­£é¢">
                        <img class="attached-thumb" id="attachedBack" src="" alt="èƒŒé¢">
                    </div>
                </div>

                <form id="contactForm">
                    <div class="form-group">
                        <label class="form-label">ä¼šç¤¾å<span class="required">*</span></label>
                        <input type="text" class="form-input" name="company" placeholder="æ ªå¼ä¼šç¤¾ã€‡ã€‡" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ãŠåå‰<span class="required">*</span></label>
                        <input type="text" class="form-input" name="name" placeholder="å±±ç”° å¤ªéƒ" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹<span class="required">*</span></label>
                        <input type="email" class="form-input" name="email" placeholder="example@company.co.jp" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">é›»è©±ç•ªå·</label>
                        <input type="tel" class="form-input" name="phone" placeholder="03-0000-0000">
                    </div>

                    <div class="form-group">
                        <label class="form-label">ã”è¦æœ›ãƒ»ã”è³ªå•</label>
                        <textarea class="form-input form-textarea" name="message" placeholder="å°å…¥äºˆå®šäººæ•°ã€å¸Œæœ›ç´æœŸã€ãã®ä»–ã”è¦æœ›ãªã©..."></textarea>
                    </div>

                    <div class="button-group">
                        <button type="submit" class="btn btn-primary">ğŸ“© ãŠå•ã„åˆã‚ã›ã‚’é€ä¿¡</button>
                    </div>
                </form>

                <a href="#" class="back-link" id="backToStep3">â† æˆ»ã‚‹</a>
            </div>
        </div>

        <!-- Step 5: ãŠå•ã„åˆã‚ã›å®Œäº† -->
        <div class="page-content" id="step5">
            <div class="page-header">
                <h1 class="page-title">ãŠå•ã„åˆã‚ã›ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸ</h1>
                <p class="page-subtitle">ã”å…¥åŠ›ã„ãŸã ã„ãŸå†…å®¹ã‚’ç¢ºèªã®ä¸Šã€æ‹…å½“è€…ã‚ˆã‚Šã”é€£çµ¡ã„ãŸã—ã¾ã™</p>
            </div>

            <div class="form-container">
                <!-- å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
                <div class="card" style="text-align: center; padding: 60px 40px; margin-bottom: 30px;">
                    <div style="font-size: 80px; margin-bottom: 20px;">âœ…</div>
                    <h2 style="font-size: 20px; font-weight: 700; margin-bottom: 16px; color: #ec6b2e;">é€ä¿¡å®Œäº†ã—ã¾ã—ãŸ</h2>
                    <p style="font-size: 14px; line-height: 1.8; color: #666; margin-bottom: 24px;">
                        ãŠå•ã„åˆã‚ã›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚<br>
                        å…¥åŠ›ã„ãŸã ã„ãŸãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å®›ã«ã€å—ä»˜å®Œäº†ã®ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã„ãŸã—ã¾ã—ãŸã€‚<br>
                        2ã€œ3å–¶æ¥­æ—¥ä»¥å†…ã«æ‹…å½“è€…ã‚ˆã‚Šã”é€£çµ¡ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚
                    </p>
                    <div style="padding: 20px; background: #f8f9fa; border-radius: 12px; margin-bottom: 24px;">
                        <p style="font-size: 13px; color: #666; line-height: 1.6;">
                            <strong>ã”å…¥åŠ›ã„ãŸã ã„ãŸæƒ…å ±</strong><br>
                            ä¼šç¤¾åï¼š<span id="completedCompany"></span><br>
                            ãŠåå‰ï¼š<span id="completedName"></span><br>
                            ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼š<span id="completedEmail"></span>
                        </p>
                    </div>
                    <p style="font-size: 12px; color: #888;">
                        â€»ãƒ¡ãƒ¼ãƒ«ãŒå±Šã‹ãªã„å ´åˆã¯ã€è¿·æƒ‘ãƒ¡ãƒ¼ãƒ«ãƒ•ã‚©ãƒ«ãƒ€ã‚’ã”ç¢ºèªãã ã•ã„ã€‚<br>
                        â€»ãŠæ€¥ãã®å ´åˆã¯ã€ãŠé›»è©±ã§ã‚‚ãŠå•ã„åˆã‚ã›ã‚’æ‰¿ã£ã¦ãŠã‚Šã¾ã™ã€‚
                    </p>
                </div>

                <!-- ãŠå•ã„åˆã‚ã›æƒ…å ± -->
                <div class="card" style="padding: 30px; margin-bottom: 30px; background: #fff9f5; border: 2px solid #ec6b2e;">
                    <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px; color: #ec6b2e;">ğŸ“ ãŠæ€¥ãã®æ–¹ã¯ãŠé›»è©±ã§ã‚‚æ‰¿ã‚Šã¾ã™</h3>
                    <p style="font-size: 14px; color: #666; line-height: 1.8;">
                        OUC ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆ<br>
                        <strong style="font-size: 20px; color: #1a1a1a;">0120-XXX-XXX</strong><br>
                        å—ä»˜æ™‚é–“ï¼šå¹³æ—¥ 9:00ã€œ18:00
                    </p>
                </div>

                <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
                <div class="button-group">
                    <button class="btn btn-secondary" id="backToTopBtn">ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹</button>
                    <button class="btn btn-primary" id="restartSimulatorBtn">ã‚‚ã†ä¸€åº¦ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ã†</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ãƒ‡ãƒ¼ã‚¿å®šç¾©
        const models = [
            { id: 1, name: 'HERO', category: 'ä½œæ¥­æœ', fileName: 'hero.png', backFileName: 'hero_back.png' },
            { id: 2, name: 'ZEPHYR', category: 'ä½œæ¥­æœ', fileName: 'zephyr.png', backFileName: 'zephyr_back.png' },
            { id: 3, name: 'ZERO', category: 'ä½œæ¥­æœ', fileName: 'zero.png', backFileName: 'zero_back.png' },
            { id: 4, name: 'MIRAITO', category: 'ä½œæ¥­æœ', fileName: 'miraito.png', backFileName: 'miraito_back.png' },
            { id: 5, name: 'X-LINE', category: 'ä½œæ¥­æœ', fileName: 'x-line.png', backFileName: 'x-line_back.png' },
            { id: 6, name: 'R-SPORTS', category: 'ä½œæ¥­æœ', fileName: 'unnamed4.png', backFileName: 'unnamed4_back.png' },
        ];

        const parts = [
            { id: 'collar_front', name: 'è¥Ÿ', icon: 'ğŸ‘”', view: 'front' },
            { id: 'body_front', name: 'æœ¬ä½“', icon: 'ğŸ§¥', view: 'front' },
            { id: 'sleeve_front', name: 'è¢–', icon: 'ğŸ’ª', view: 'front' },
            { id: 'pocket_front', name: 'ãƒã‚±ãƒƒãƒˆ', icon: 'ğŸ“¦', view: 'front' },
            { id: 'hem_front', name: 'è£¾', icon: 'ğŸ“', view: 'front' },
            { id: 'collar_back', name: 'è¥Ÿ', icon: 'ğŸ‘”', view: 'back' },
            { id: 'body_back', name: 'æœ¬ä½“', icon: 'ğŸ§¥', view: 'back' },
            { id: 'sleeve_back', name: 'è¢–', icon: 'ğŸ’ª', view: 'back' },
            { id: 'pocket_back', name: 'ãƒã‚±ãƒƒãƒˆ', icon: 'ğŸ“¦', view: 'back' },
            { id: 'hem_back', name: 'è£¾', icon: 'ğŸ“', view: 'back' },
        ];

        const colors = [
            { id: 'navy', name: 'ãƒã‚¤ãƒ“ãƒ¼', hex: '#1e3a5f' },
            { id: 'black', name: 'ãƒ–ãƒ©ãƒƒã‚¯', hex: '#1a1a1a' },
            { id: 'gray', name: 'ã‚°ãƒ¬ãƒ¼', hex: '#6b7280' },
            { id: 'white', name: 'ãƒ›ãƒ¯ã‚¤ãƒˆ', hex: '#f5f5f5' },
            { id: 'red', name: 'ãƒ¬ãƒƒãƒ‰', hex: '#dc2626' },
            { id: 'blue', name: 'ãƒ–ãƒ«ãƒ¼', hex: '#2563eb' },
            { id: 'green', name: 'ã‚°ãƒªãƒ¼ãƒ³', hex: '#16a34a' },
            { id: 'orange', name: 'ã‚ªãƒ¬ãƒ³ã‚¸', hex: '#ea580c' },
            { id: 'yellow', name: 'ã‚¤ã‚¨ãƒ­ãƒ¼', hex: '#eab308' },
            { id: 'brown', name: 'ãƒ–ãƒ©ã‚¦ãƒ³', hex: '#78350f' },
        ];

        // çŠ¶æ…‹ç®¡ç†
        let state = {
            currentStep: 0,
            userInfo: {
                company: '',
                name: '',
                phone: '',
                email: '',
            },
            selectedModel: null,
            currentView: 'front',
            selectedPart: null,
            partColors: {
                collar_front: null,
                body_front: null,
                sleeve_front: null,
                pocket_front: null,
                hem_front: null,
                collar_back: null,
                body_back: null,
                sleeve_back: null,
                pocket_back: null,
                hem_back: null,
            },
        };

        // åˆæœŸåŒ–
        function init() {
            renderModels();
            renderParts();
            renderPartColorsList();
            setupEventListeners();
            goToStep(0); // åˆæœŸè¡¨ç¤º
        }

        // ãƒ¢ãƒ‡ãƒ«ä¸€è¦§ã‚’æç”»
        function renderModels() {
            const grid = document.getElementById('modelGrid');
            grid.innerHTML = models.map(model => `
                <div class="model-card" data-model-id="${model.id}">
                    <img class="model-image" src="img/model/${model.fileName}" alt="${model.name}">
                    <div class="model-info">
                        <div class="model-name">${model.name}</div>
                        <div class="model-category">${model.category}</div>
                        <div class="model-check">âœ“</div>
                    </div>
                </div>
            `).join('');
        }

        // ãƒ‘ãƒ¼ãƒ„ä¸€è¦§ã‚’æç”»
        function renderParts() {
            const grid = document.getElementById('partsGrid');
            const filteredParts = parts.filter(part => part.view === state.currentView);
            grid.innerHTML = filteredParts.map(part => `
                <button class="part-btn" data-part-id="${part.id}">
                    <span class="part-icon">${part.icon}</span>
                    <span>${part.name}</span>
                </button>
            `).join('');
        }

        // ãƒ‘ãƒ¼ãƒ„åˆ¥ã‚«ãƒ©ãƒ¼ä¸€è¦§ã‚’æç”»
        function renderPartColorsList() {
            const list = document.getElementById('partColorsList');

            const frontParts = parts.filter(p => p.view === 'front');
            const backParts = parts.filter(p => p.view === 'back');

            const renderPartGroup = (partsList, viewLabel) => {
                return `
                    <div style="margin-bottom: 16px;">
                        <div style="font-size: 13px; font-weight: 600; color: #ec6b2e; margin-bottom: 8px;">${viewLabel}</div>
                        ${partsList.map(part => {
                            const colorData = state.partColors[part.id];
                            let colorDisplay = '<span>æœªè¨­å®š</span>';

                            if (colorData) {
                                if (typeof colorData === 'string') {
                                    const color = colors.find(c => c.id === colorData);
                                    if (color) {
                                        colorDisplay = `
                                            <span class="part-color-chip" style="background-color: ${color.hex}"></span>
                                            <span>${color.name}</span>
                                        `;
                                    }
                                } else if (typeof colorData === 'object' && colorData.custom) {
                                    colorDisplay = `
                                        <span class="part-color-chip" style="background-color: ${colorData.hex}"></span>
                                        <span>ã‚«ã‚¹ã‚¿ãƒ  (${colorData.hex})</span>
                                    `;
                                }
                            }

                            return `
                                <div class="part-color-item" data-part-id="${part.id}">
                                    <span class="part-color-name">${part.icon} ${part.name}</span>
                                    <span class="part-color-value">
                                        ${colorDisplay}
                                    </span>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
            };

            list.innerHTML = renderPartGroup(frontParts, 'æ­£é¢') + renderPartGroup(backParts, 'èƒŒé¢');
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
        function setupEventListeners() {
            // Step 0: æƒ…å ±å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ 
            document.getElementById('preRegistrationForm').addEventListener('submit', (e) => {
                e.preventDefault();

                // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ä¿å­˜
                state.userInfo.company = document.getElementById('preCompany').value;
                state.userInfo.name = document.getElementById('preName').value;
                state.userInfo.phone = document.getElementById('prePhone').value;
                state.userInfo.email = document.getElementById('preEmail').value;

                // ãƒ¢ãƒ‡ãƒ«é¸æŠç”»é¢ã¸
                goToStep(1);
            });

            // Step 1: ãƒ¢ãƒ‡ãƒ«é¸æŠ
            document.getElementById('modelGrid').addEventListener('click', (e) => {
                const card = e.target.closest('.model-card');
                if (!card) return;

                document.querySelectorAll('.model-card').forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');

                state.selectedModel = models.find(m => m.id == card.dataset.modelId);
                document.getElementById('step1Next').disabled = false;
            });

            document.getElementById('step1Next').addEventListener('click', () => {
                goToStep(2);
                updatePreviewImage();
            });

            // Step 2: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    state.currentView = btn.dataset.view;
                    state.selectedPart = null;
                    document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
                    updatePreviewImage();
                    renderParts();
                });
            });

            // Step 2: ãƒ‘ãƒ¼ãƒ„é¸æŠ
            document.getElementById('partsGrid').addEventListener('click', (e) => {
                const btn = e.target.closest('.part-btn');
                if (!btn) return;

                document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                state.selectedPart = btn.dataset.partId;
            });

            // Step 2: ãƒ‘ãƒ¼ãƒ„ã‚«ãƒ©ãƒ¼ãƒªã‚¹ãƒˆã‹ã‚‰ãƒ‘ãƒ¼ãƒ„é¸æŠ
            document.getElementById('partColorsList').addEventListener('click', (e) => {
                const item = e.target.closest('.part-color-item');
                if (!item) return;

                const partId = item.dataset.partId;
                const btn = document.querySelector(`.part-btn[data-part-id="${partId}"]`);
                if (btn) btn.click();
            });

            // Step 2: ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('resetBtn').addEventListener('click', () => {
                state.partColors = {
                    collar_front: null,
                    body_front: null,
                    sleeve_front: null,
                    pocket_front: null,
                    hem_front: null,
                    collar_back: null,
                    body_back: null,
                    sleeve_back: null,
                    pocket_back: null,
                    hem_back: null,
                };
                state.selectedPart = null;
                document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('active'));
                renderPartColorsList();
            });

            // Step 2: AIç”Ÿæˆ
            document.getElementById('generateBtn').addEventListener('click', () => {
                // å®Ÿéš›ã®AIç”Ÿæˆå‡¦ç†ã¯ã“ã“ã§å®Ÿè£…
                // ä»Šå›ã¯ãƒ¢ãƒƒã‚¯ãªã®ã§ã€æ—¢å­˜ã®ç”»åƒã‚’è¡¨ç¤º
                setTimeout(() => {
                    goToStep(3);
                    updateResultImages();
                }, 1500);
            });

            // Step 3: å†åº¦ç·¨é›†
            document.getElementById('editAgainBtn').addEventListener('click', () => {
                goToStep(2);
            });

            // Step 3: ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
            document.getElementById('downloadBtn').addEventListener('click', () => {
                alert('ç”»åƒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ï¼ˆå®Ÿè£…äºˆå®šï¼‰');
            });

            // Step 3: ãŠå•ã„åˆã‚ã›ã¸
            document.getElementById('contactBtn').addEventListener('click', () => {
                goToStep(4);
                updateAttachedImages();
                fillContactForm();
            });

            document.getElementById('contactBtn2').addEventListener('click', () => {
                goToStep(4);
                updateAttachedImages();
                fillContactForm();
            });

            // Step 4: æˆ»ã‚‹
            document.getElementById('backToStep3').addEventListener('click', (e) => {
                e.preventDefault();
                goToStep(3);
            });

            // Step 4: ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
            document.getElementById('contactForm').addEventListener('submit', (e) => {
                e.preventDefault();

                // å®Ÿéš›ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é€ä¿¡å‡¦ç†ã¯ã“ã“ã§å®Ÿè£…
                // ãƒ¢ãƒƒã‚¯ã§ã¯å®Œäº†ç”»é¢ã«æƒ…å ±ã‚’è¡¨ç¤º
                const form = e.target;
                document.getElementById('completedCompany').textContent = form.elements['company'].value;
                document.getElementById('completedName').textContent = form.elements['name'].value;
                document.getElementById('completedEmail').textContent = form.elements['email'].value;

                // å®Œäº†ç”»é¢ã¸é·ç§»
                goToStep(5);
            });

            // Step 5: ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹
            document.getElementById('backToTopBtn').addEventListener('click', () => {
                // ãƒ¢ãƒƒã‚¯ã§ã¯å˜ã«ãƒªãƒ­ãƒ¼ãƒ‰
                window.location.reload();
            });

            // Step 5: ã‚‚ã†ä¸€åº¦ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ã†
            document.getElementById('restartSimulatorBtn').addEventListener('click', () => {
                // çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦Step 0ã¸
                window.location.reload();
            });
        }

        // ã‚¹ãƒ†ãƒƒãƒ—é·ç§»
        function goToStep(step) {
            state.currentStep = step;

            // ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ‡ã‚Šæ›¿ãˆ
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
            document.getElementById(`step${step}`).classList.add('active');

            // Step 5ï¼ˆå®Œäº†ç”»é¢ï¼‰ã®å ´åˆã€ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’éè¡¨ç¤º
            const progressIndicator = document.querySelector('.progress-indicator');
            if (step === 5) {
                progressIndicator.style.display = 'none';
            } else {
                progressIndicator.style.display = 'flex';

                // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼æ›´æ–°
                document.querySelectorAll('.step-circle').forEach((circle, index) => {
                    const stepNum = parseInt(circle.dataset.step);
                    const displayNum = index + 1; // è¡¨ç¤ºç”¨ã®ç•ªå·ï¼ˆ1ã€œ5ï¼‰
                    const label = circle.nextElementSibling;
                    const line = circle.parentElement.querySelector('.step-line');

                    circle.classList.remove('active', 'completed');
                    if (label) label.classList.remove('active');
                    if (line) line.classList.remove('completed');

                    if (stepNum < step) {
                        circle.classList.add('completed');
                        circle.textContent = ''; // å®Œäº†æ™‚ã¯ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ã®ã¿
                        if (line) line.classList.add('completed');
                    } else if (stepNum === step) {
                        circle.classList.add('active');
                        circle.textContent = displayNum;
                        if (label) label.classList.add('active');
                    } else {
                        circle.textContent = displayNum;
                    }
                });
            }

            // ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»åƒæ›´æ–°
        function updatePreviewImage() {
            if (!state.selectedModel) return;
            const fileName = state.currentView === 'front'
                ? state.selectedModel.fileName
                : state.selectedModel.backFileName;
            const folder = state.currentView === 'front' ? 'model' : 'model_back';
            const imagePath = `img/${folder}/${fileName}`;
            document.getElementById('previewImage').src = imagePath;
        }

        // ç”Ÿæˆçµæœç”»åƒæ›´æ–°
        function updateResultImages() {
            if (!state.selectedModel) return;
            const frontPath = `img/model/${state.selectedModel.fileName}`;
            const backPath = `img/model_back/${state.selectedModel.backFileName}`;
            document.getElementById('resultFront').src = frontPath;
            document.getElementById('resultBack').src = backPath;
        }


        // æ·»ä»˜ç”»åƒæ›´æ–°
        function updateAttachedImages() {
            if (!state.selectedModel) return;
            const frontPath = `img/model/${state.selectedModel.fileName}`;
            const backPath = `img/model_back/${state.selectedModel.backFileName}`;
            document.getElementById('attachedFront').src = frontPath;
            document.getElementById('attachedBack').src = backPath;
        }

        // ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ è‡ªå‹•å…¥åŠ›
        function fillContactForm() {
            const form = document.getElementById('contactForm');
            form.elements['company'].value = state.userInfo.company;
            form.elements['name'].value = state.userInfo.name;
            form.elements['phone'].value = state.userInfo.phone;
            form.elements['email'].value = state.userInfo.email;
        }

        // åˆæœŸåŒ–å®Ÿè¡Œ
        init();
    </script>
</body>
</html>
